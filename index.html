<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casa Nuvera | Innovando el sector Inmobiliario | EST. 2025</title>
    <link rel="stylesheet" href="property-styles.css">
    <!-- üö® REMOVIDO: css/property-grid-dark.css - CAUSA FONDO NEGRO -->
    <link rel="stylesheet" href="css/property-featured-styles.css">
    <!-- üöÄ Widget WhatsApp -->
    <link rel="stylesheet" href="whatsapp-widget.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* üö® OVERRIDE COMPLETO PARA FONDO BLANCO FORZADO */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-black: #0a0a0a;
            --secondary-gray: #666666;
            --light-gray: #f5f5f5;
            --medium-gray: #e0e0e0;
            --white: #ffffff;
            --accent-black: #333333;
            --text-muted: #999999;
            --border-color: #ddd;
            --overlay-dark: rgba(0, 0, 0, 0.6);
            --overlay-medium: rgba(0, 0, 0, 0.4);
            --overlay-light: rgba(0, 0, 0, 0.2);
            --overlay-nav: rgba(0, 0, 0, 0.1);
            --overlay-white: rgba(255, 255, 255, 0.9);
            
            /* Esquema negro minimalista */
            --elegant-black: #333333;
            --warm-black: #000000;
            --charcoal: #36454F;
            --light-gray-accent: #D3D3D3;
            --dark-gray: #2F2F2F;
        }

        /* üö® BODY CON FONDO BLANCO FORZADO - SIN BACKGROUND-GRAY */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.5;
            color: var(--primary-black) !important;
            background-color: #ffffff !important;
            background: #ffffff !important;
            font-weight: 400;
            overflow-x: hidden;
        }

        /* Header flotante sobre im√°genes */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            text-decoration: none;
            color: var(--primary-black);
        }

        .logo-image {
            width: 45px;
            height: 45px;
            object-fit: contain;
        }

        .logo-text {
            font-size: 1.3rem;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 3rem;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--secondary-gray);
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: var(--charcoal);
        }

        /* Hero Section con imagen de fondo full */
        .hero {
            height: 100vh;
            background: linear-gradient(var(--overlay-light), var(--overlay-light)), 
                        url('https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1752024246180_1.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            color: white;
        }

        .hero-content {
            max-width: 1200px;
            width: 100%;
            text-align: center;
            padding: 0 2rem;
            z-index: 2;
        }

        .hero-tagline {
            font-size: 0.9rem;
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 2rem;
            font-weight: 500;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7);
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 300;
            line-height: 1.1;
            margin-bottom: 2rem;
            letter-spacing: -2px;
            text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.8);
        }

        .hero-description {
            font-size: 1.3rem;
            margin-bottom: 3rem;
            line-height: 1.6;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            opacity: 1;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7);
        }

        .hero-actions {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-primary {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(20px);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 1.2rem 2.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }

        .btn-primary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
            padding: 1.2rem 2.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }

        .btn-secondary:hover {
            background: white;
            color: var(--primary-black);
        }

        /* Navigation Grid SIN ESPACIOS GRISES */
        .nav-grid {
            padding: 0;
            background: transparent;
            margin: 0;
        }

        .nav-container-grid {
            max-width: 100%;
            margin: 0;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0; /* Sin espacios entre im√°genes */
            height: 500px; /* Altura fija para alineaci√≥n uniforme */
        }

        .nav-item {
            height: 100%;
            padding: 0;
            text-align: left;
            transition: all 0.3s ease;
            text-decoration: none;
            color: white;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: flex-start; /* ALINEACI√ìN VERTICAL DESDE ARRIBA */
            background-size: cover;
            background-position: center;
            margin: 0;
        }

        /* IM√ÅGENES VIBRANTES CON OVERLAY M√ÅS SUAVE */
        .nav-item:nth-child(1) {
            background: linear-gradient(var(--overlay-nav), var(--overlay-nav)), 
                        url('https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1756150801258_0.jpeg');
            background-size: cover;
            background-position: center;
        }

        .nav-item:nth-child(2) {
            background: linear-gradient(var(--overlay-nav), var(--overlay-nav)), 
                        url('https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1756150948654_0.jpeg');
            background-size: cover;
            background-position: center;
        }

        .nav-item:nth-child(3) {
            background: linear-gradient(var(--overlay-nav), var(--overlay-nav)), 
                        url('https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1756151545766_0.jpeg');
            background-size: cover;
            background-position: center;
        }

        .nav-item:nth-child(4) {
            background: linear-gradient(var(--overlay-nav), var(--overlay-nav)), 
                        url('https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1756150760004_0.jpeg');
            background-size: cover;
            background-position: center;
        }

        .nav-item:hover {
            transform: scale(1.02);
        }

        .nav-item:hover::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(51, 51, 51, 0.05);
            z-index: 1;
        }

        .nav-item-content {
            position: relative;
            z-index: 2;
            width: 100%;
            padding: 3rem;
            padding-top: 4rem;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: flex-start;
            gap: 1rem;
            background: none;
            min-height: 400px;
        }

        .nav-item-label {
            font-size: 0.8rem;
            color: #ffffff;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 0;
            font-weight: 600;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9), 0 0 15px rgba(0, 0, 0, 0.7);
            background: none;
            padding: 0.5rem 0;
            display: inline-block;
            width: fit-content;
            align-self: flex-start;
        }

        .nav-item h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
            color: #ffffff;
            line-height: 1.2;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9), 0 0 15px rgba(0, 0, 0, 0.7);
            background: none;
            padding: 0.5rem 0;
            width: 100%;
            align-self: stretch;
        }

        .nav-item p {
            color: #ffffff;
            line-height: 1.6;
            margin: 0;
            font-size: 0.9rem;
            font-weight: 500;
            background: rgba(0, 0, 0, 0.3);
            padding: 14px 18px;
            border-radius: 8px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: fit-content;
            align-self: flex-start;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
        }

        .nav-item-feature {
            background: none;
            padding: 1rem 0;
            border-radius: 0;
            backdrop-filter: none;
            border: none;
            margin: 0;
            width: 100%;
            align-self: stretch;
        }

        .nav-item-feature h4 {
            font-size: 1rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9), 0 0 15px rgba(0, 0, 0, 0.7);
            background: none;
            padding: 0;
        }

        .nav-item-feature p {
            font-size: 0.85rem;
            color: #ffffff;
            line-height: 1.4;
            margin: 0;
            font-weight: 500;
            background: rgba(0, 0, 0, 0.3);
            padding: 14px 18px;
            border-radius: 8px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: fit-content;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
        }

        .nav-item-link {
            color: #ffffff;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.4);
            padding: 14px 18px;
            border-radius: 8px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            display: inline-block;
            width: fit-content;
            transition: all 0.3s ease;
            margin-top: auto;
            align-self: flex-start;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
            text-decoration: none;
        }

        .nav-item-link:hover {
            background: rgba(0, 0, 0, 0.5);
            border-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        /* üîÑ Nueva Era Section - FONDO BLANCO + ESPACIADO REDUCIDO */
        .new-era-section {
            padding: 5rem 2rem !important;
            background: #ffffff !important;
            background-color: #ffffff !important;
            color: var(--primary-black) !important;
        }

        .new-era-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6rem;
            align-items: center;
        }

        .new-era-content h2 {
            font-size: 2.8rem !important;
            font-weight: 300 !important;
            margin-bottom: 2rem !important;
            color: var(--primary-black) !important;
            line-height: 1.2 !important;
            letter-spacing: -1px !important;
        }

        .new-era-content h3 {
            font-size: 1.8rem !important;
            font-weight: 300 !important;
            margin-bottom: 2rem !important;
            color: var(--secondary-gray) !important;
        }

        .new-era-content p {
            font-size: 1.2rem !important;
            color: var(--secondary-gray) !important;
            margin-bottom: 2rem !important;
            line-height: 1.6 !important;
        }

        .new-era-technologies {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-top: 3rem;
        }

        .tech-feature {
            background: rgba(248, 248, 248, 1) !important;
            padding: 2rem !important;
            border-radius: 12px !important;
            border: 1px solid rgba(0, 0, 0, 0.05) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03) !important;
        }

        .tech-feature h4 {
            font-size: 1.1rem !important;
            margin-bottom: 0.5rem !important;
            font-weight: 600 !important;
            color: var(--primary-black) !important;
        }

        .tech-feature p {
            font-size: 0.9rem !important;
            margin: 0 !important;
            color: var(--secondary-gray) !important;
            line-height: 1.5 !important;
        }

        .new-era-image {
            height: 500px;
            background: url('https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1755189383506_0.jpeg');
            background-size: cover;
            background-position: center;
            border-radius: 16px !important;
            border: 1px solid rgba(0, 0, 0, 0.05) !important;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06) !important;
        }

        /* üö® SECCI√ìN PROPIEDADES - ESPACIADO REDUCIDO */
        .properties-section {
            padding: 5rem 2rem !important;
            background: #ffffff !important;
            background-color: #ffffff !important;
            color: var(--primary-black) !important;
        }

        .properties-container {
            max-width: 1400px;
            margin: 0 auto;
            background: transparent !important;
        }

        .properties-header {
            text-align: center;
            margin-bottom: 4rem;
            background: transparent !important;
        }

        .properties-header h2 {
            font-size: 2.8rem !important;
            font-weight: 300 !important;
            margin-bottom: 2rem !important;
            color: var(--primary-black) !important;
            line-height: 1.2 !important;
            letter-spacing: -1px !important;
        }

        .properties-header p {
            font-size: 1.2rem !important;
            color: var(--secondary-gray) !important;
            margin-bottom: 2rem !important;
            line-height: 1.6 !important;
            max-width: 800px !important;
            margin-left: auto !important;
            margin-right: auto !important;
        }

        /* BUSCADOR - FONDO GRIS CLARO SOBRE BLANCO */
        .property-search-bar {
            background: rgba(248, 248, 248, 1) !important;
            border-radius: 16px !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08) !important;
            padding: 2rem !important;
            margin-bottom: 3rem !important;
            border: 1px solid rgba(0, 0, 0, 0.05) !important;
        }

        .search-filters {
            display: grid !important;
            grid-template-columns: repeat(6, 1fr) !important;
            gap: 1rem !important;
            align-items: end !important;
            background: transparent !important;
        }

        .search-group {
            display: flex !important;
            flex-direction: column !important;
            background: transparent !important;
        }

        .search-select,
        .search-input {
            padding: 0.75rem !important;
            border: 1px solid #ddd !important;
            border-radius: 8px !important;
            font-size: 0.9rem !important;
            background: white !important;
            color: #333 !important;
            transition: border-color 0.3s ease !important;
        }

        .search-select:focus,
        .search-input:focus {
            outline: none !important;
            border-color: #333333 !important;
        }

        .search-checkbox-group {
            display: flex !important;
            align-items: center !important;
            gap: 0.5rem !important;
            margin-top: 1.5rem !important;
            background: transparent !important;
        }

        .search-checkbox {
            width: 16px !important;
            height: 16px !important;
        }

        .search-checkbox-label {
            font-size: 0.9rem !important;
            color: #666 !important;
        }

        .search-btn {
            padding: 0.75rem 1.5rem !important;
            border: none !important;
            border-radius: 8px !important;
            font-size: 0.9rem !important;
            font-weight: 500 !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
        }

        .search-btn-primary {
            background: #333333 !important;
            color: white !important;
        }

        .search-btn-primary:hover {
            background: #000000 !important;
        }

        .search-btn-secondary {
            background: #6c757d !important;
            color: white !important;
        }

        .search-btn-secondary:hover {
            background: #545b62 !important;
        }

        .search-link {
            color: #333333 !important;
            text-decoration: none !important;
            font-size: 0.9rem !important;
            margin-top: 1rem !important;
            display: inline-block !important;
        }

        /* üéØ GRID DE PROPIEDADES REALES CON EST√âTICA MANTENIDA */
        .properties-grid-container,
        #featuredProperties {
            display: grid !important;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)) !important;
            gap: 2.5rem !important;
            padding: 0 !important;
            background: transparent !important;
        }

        /* üè† CARDS DE PROPIEDADES REALES - ALTURA AJUSTADA PARA MOSTRAR TODO */
        .property-card {
            background: white !important;
            background-color: white !important;
            border-radius: 16px !important;
            overflow: hidden !important;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) !important;
            transition: all 0.3s ease !important;
            cursor: pointer !important;
            border: 1px solid rgba(0, 0, 0, 0.05) !important;
            min-height: 480px !important; /* Altura m√≠nima garantizada */
            display: flex !important;
            flex-direction: column !important;
        }

        .property-card:hover {
            transform: translateY(-8px) !important;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15) !important;
        }

        .property-image {
            height: 280px !important; /* Altura aumentada para mejor proporci√≥n */
            position: relative !important;
            overflow: hidden !important;
            flex-shrink: 0 !important; /* No se reduce */
        }

        .property-image img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
            transition: transform 0.3s ease !important;
        }

        .property-card:hover .property-image img {
            transform: scale(1.05) !important;
        }

        .property-price-badge {
            position: absolute !important;
            top: 1rem !important;
            left: 1rem !important;
            background: rgba(255, 255, 255, 0.95) !important;
            padding: 0.6rem 1.2rem !important; /* Padding aumentado */
            border-radius: 8px !important;
            font-size: 1rem !important; /* Tama√±o aumentado */
            font-weight: 700 !important; /* M√°s bold */
            color: var(--primary-black) !important;
            backdrop-filter: blur(10px) !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important; /* Sombra para legibilidad */
        }

        .property-featured-badge {
            position: absolute !important;
            top: 1rem !important;
            right: 1rem !important;
            background: #f39c12 !important;
            color: white !important;
            padding: 0.4rem 1rem !important;
            border-radius: 6px !important;
            font-size: 0.8rem !important;
            font-weight: 600 !important;
            text-transform: uppercase !important;
            letter-spacing: 0.5px !important;
        }

        /* CONTENIDO DE PROPIEDADES EXPANDIDO */
        .property-content {
            padding: 24px !important; /* Padding aumentado */
            background: white !important;
            background-color: white !important;
            flex: 1 !important; /* Ocupa todo el espacio disponible */
            display: flex !important;
            flex-direction: column !important;
            justify-content: space-between !important;
        }

        .property-title {
            font-size: 1.3rem !important; /* Tama√±o aumentado */
            font-weight: 600 !important;
            color: #333 !important;
            margin-bottom: 12px !important; /* M√°s espacio */
            line-height: 1.3 !important;
            /* Permitir que el t√≠tulo se expanda sin cortarse */
            overflow: visible !important;
            white-space: normal !important;
            word-wrap: break-word !important;
        }

        .property-subtitle {
            font-size: 0.95rem !important; /* Tama√±o aumentado */
            color: #666 !important;
            margin-bottom: 16px !important; /* M√°s espacio */
            line-height: 1.4 !important;
            /* Permitir expansi√≥n de texto */
            overflow: visible !important;
            white-space: normal !important;
            word-wrap: break-word !important;
            flex-grow: 1 !important; /* Toma espacio disponible */
        }

        .property-location {
            display: flex !important;
            align-items: flex-start !important; /* Alineaci√≥n superior para texto largo */
            gap: 6px !important;
            font-size: 0.9rem !important; /* Tama√±o aumentado */
            color: #888 !important;
            margin-bottom: 20px !important; /* M√°s espacio */
            line-height: 1.3 !important;
            /* Permitir texto multil√≠nea */
            overflow: visible !important;
            white-space: normal !important;
            word-wrap: break-word !important;
        }

        .property-location::before {
            content: "üìç" !important;
            font-size: 0.9rem !important;
            flex-shrink: 0 !important; /* El √≠cono no se reduce */
        }

        .property-features {
            display: flex !important;
            justify-content: space-between !important;
            gap: 1rem !important;
            margin-top: auto !important; /* Se mantiene en la parte inferior */
            flex-wrap: wrap !important; /* Permite envolver si es necesario */
        }

        .property-feature {
            display: flex !important;
            align-items: center !important;
            gap: 0.4rem !important; /* Gap aumentado */
            font-size: 0.85rem !important;
            color: #666 !important;
            font-weight: 500 !important;
            flex: 1 !important; /* Se distribuye equitativamente */
            min-width: 60px !important; /* Ancho m√≠nimo para evitar colapso */
        }

        .property-feature-icon {
            width: 16px !important; /* Tama√±o aumentado */
            height: 16px !important;
            color: #999 !important;
            flex-shrink: 0 !important; /* No se reduce */
        }

        /* Loading States para fondo blanco */
        .loading-container {
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            padding: 4rem 2rem !important;
            text-align: center !important;
            color: var(--secondary-gray) !important;
            min-height: 200px !important;
            background: transparent !important;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1) !important;
            border-top: 4px solid var(--secondary-gray) !important;
            border-radius: 50% !important;
            width: 40px !important;
            height: 40px !important;
            animation: spin 1s linear infinite !important;
            margin-bottom: 1rem !important;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* üé® GALER√çA - ESPACIADO REDUCIDO */
        .gallery-section {
            padding: 5rem 2rem !important;
            background: #ffffff !important;
            background-color: #ffffff !important;
            color: var(--primary-black) !important;
        }

        .gallery-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .gallery-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .gallery-header h2 {
            font-size: 2.8rem !important;
            font-weight: 300 !important;
            margin-bottom: 2rem !important;
            color: var(--primary-black) !important;
            line-height: 1.2 !important;
            letter-spacing: -1px !important;
        }

        .gallery-header p {
            font-size: 1.2rem !important;
            color: var(--secondary-gray) !important;
            margin-bottom: 2rem !important;
            line-height: 1.6 !important;
            max-width: 800px !important;
            margin-left: auto !important;
            margin-right: auto !important;
        }

        /* CARRUSEL MIXTO */
        .gallery-carousel {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.1);
        }

        .gallery-slides-container {
            position: relative;
            width: 100%;
            height: 600px;
            overflow: hidden;
        }

        .gallery-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gallery-slide.active {
            opacity: 1;
        }

        .gallery-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }

        /* ESTILOS PARA VIDEOS */
        .gallery-slide video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }

        .video-slide {
            background: #000; /* Fondo negro para videos */
        }

        .slide-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            color: white;
            padding: 3rem 2rem 2rem;
            text-align: left;
        }

        .slide-overlay h3 {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
        }

        .slide-overlay p {
            font-size: 1rem;
            opacity: 0.9;
            margin: 0;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);
        }

        /* CONTROLES DE NAVEGACI√ìN */
        .gallery-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--primary-black);
            font-size: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            font-weight: 300;
        }

        .gallery-nav-btn:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .prev-btn {
            left: 2rem;
        }

        .next-btn {
            right: 2rem;
        }

        /* INDICADORES */
        .gallery-indicators {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 10;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .indicator.active,
        .indicator:hover {
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        /* Stats Section - ESPACIADO REDUCIDO */
        .stats-section {
            padding: 5rem 2rem;
            background: linear-gradient(var(--overlay-dark), var(--overlay-dark)), 
                        url('https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=1920&h=1080&fit=crop&crop=center');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
        }

        /* Contact Section - ESPACIADO REDUCIDO */
        .contact-section {
            padding: 5rem 2rem;
            background: linear-gradient(var(--overlay-dark), var(--overlay-dark)), 
                        url('https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=1920&h=1080&fit=crop&crop=center');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            min-height: 100vh;
        }

        .contact-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .contact-container h2 {
            font-size: 2.8rem;
            font-weight: 300;
            margin-bottom: 2rem;
            color: white;
        }

        .contact-container p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 4rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .contact-grid {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .contact-item {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            padding: 0.6rem 1rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            display: inline-block;
            max-width: 180px;
        }

        .contact-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--elegant-black);
            transform: translateY(-2px);
        }

        .contact-item h4 {
            font-size: 0.7rem;
            margin-bottom: 0.3rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--elegant-black);
        }

        .contact-item a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-weight: 500;
            letter-spacing: 0.5px;
            font-size: 0.8rem;
        }

        .contact-item p {
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
            letter-spacing: 0.5px;
            font-size: 0.8rem;
            margin: 0.1rem 0;
            line-height: 1.2;
        }

        /* Footer */
        .footer {
            background: linear-gradient(var(--overlay-dark), var(--overlay-dark)), 
                        url('https://images.unsplash.com/photo-1600607687644-c7171b42498b?w=1920&h=600&fit=crop&crop=center');
            background-size: cover;
            background-position: center;
            padding: 4rem 2rem 2rem;
            color: white;
        }

        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-section h4 {
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1.5rem;
            color: var(--elegant-black);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.8rem;
        }

        .footer-section ul li a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        .footer-section ul li a:hover {
            color: var(--elegant-black);
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .footer-tagline {
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .nav-container-grid {
                grid-template-columns: repeat(2, 1fr);
                height: auto;
            }

            .nav-item {
                height: 400px;
            }

            .nav-item-content {
                padding: 2rem;
                min-height: 300px;
            }

            .search-filters {
                grid-template-columns: 1fr;
            }

            .properties-grid-container,
            #featuredProperties {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .property-card {
                margin: 0 auto;
                max-width: 380px;
                min-height: 420px !important; /* Altura reducida en m√≥vil */
            }

            .property-image {
                height: 240px !important; /* Altura reducida en m√≥vil */
            }

            .property-content {
                padding: 20px !important; /* Padding reducido en m√≥vil */
            }

            .new-era-container {
                grid-template-columns: 1fr;
                gap: 3rem;
            }

            .contact-grid {
                grid-template-columns: 1fr;
                gap: 0;
            }

            .contact-item {
                border-right: 1px solid rgba(255, 255, 255, 0.2);
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            }

            .contact-item:last-child {
                border-bottom: none;
            }

            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-bottom {
                flex-direction: column;
                gap: 1rem;
            }

            .hero {
                background-attachment: scroll;
            }

            .stats-section,
            .properties-section,
            .contact-section {
                background-attachment: scroll;
            }

            /* RESPONSIVE CARRUSEL */
            .gallery-carousel {
                border-radius: 16px;
            }
            
            .gallery-slides-container {
                height: 400px;
            }
            
            .gallery-nav-btn {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }
            
            .prev-btn {
                left: 1rem;
            }
            
            .next-btn {
                right: 1rem;
            }
            
            .slide-overlay {
                padding: 2rem 1.5rem 1.5rem;
            }
            
            .slide-overlay h3 {
                font-size: 1.4rem;
            }
            
            .slide-overlay p {
                font-size: 0.9rem;
            }
        }

        /* Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeIn 0.8s ease forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .parallax {
            background-attachment: fixed;
        }
    </style>
</head>
<body>
    <!-- Header flotante -->
    <header class="header">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <img src="https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1752020935606_0.png" 
                     alt="Casa Nuvera Logo" 
                     class="logo-image">
                <span class="logo-text">Casa Nuvera</span>
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html" class="active">Inicio</a></li>
                    <li><a href="compras.html">Comprar</a></li>
                    <li><a href="#servicios">Servicios</a></li>
                    <li><a href="#nosotros">Nosotros</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero parallax">
        <div class="hero-content fade-in">
            <div class="hero-tagline">Casa Nuvera | Innovando el sector Inmobiliario | EST. 2025</div>
            <h1>descubramos juntos tu nuevo hogar</h1>
            <p class="hero-description">Somos una corredora Boutique Familiar, que nace con el fin de ampliar la visibilidad de propiedades con gran potencial en todo el gran Santiago. Nuestro trabajo se enmarca en brindar calidad en el servicio de corretaje, desde la funcionalidad, innovaci√≥n y proyecci√≥n de cada espacio que ofrecemos.</p>
            <div class="hero-actions">
                <a href="#propiedades" class="btn-primary">Explorar Propiedades</a>
                <a href="#contacto" class="btn-secondary">Contactar Ahora</a>
            </div>
        </div>
    </section>

    <!-- Navigation Grid -->
    <section class="nav-grid" id="servicios">
        <div class="nav-container-grid">
            <a href="#propiedades" class="nav-item">
                <div class="nav-item-content">
                    <div class="nav-item-label">Compra</div>
                    <h3>Propiedades en Venta</h3>
                    <p>Casas y departamentos cuidadosamente seleccionados en las mejores ubicaciones de Santiago.</p>
                    <span class="nav-item-link">Explorar Propiedades ‚Üí</span>
                </div>
            </a>

            <a href="#contacto" class="nav-item">
                <div class="nav-item-content">
                    <div class="nav-item-label">Servicios</div>
                    <h3>Asesor√≠a Inmobiliaria</h3>
                    <p>Consultor√≠a profesional y servicios integrales para maximizar tu inversi√≥n.</p>
                    <div class="nav-item-feature">
                        <h4>Apoyo integral</h4>
                        <p>Contamos con un equipo interdisciplinario que te acompa√±ar√°n en todas las etapas de compra y venta.</p>
                    </div>
                    <span class="nav-item-link">Conocer M√°s ‚Üí</span>
                </div>
            </a>

            <a href="#contacto" class="nav-item">
                <div class="nav-item-content">
                    <div class="nav-item-label">Vende</div>
                    <h3>Vende tu propiedad</h3>
                    <p>Te ayudamos a vender tu propiedad de manera r√°pida y al mejor precio del mercado.</p>
                    <span class="nav-item-link">M√°s informaci√≥n ‚Üí</span>
                </div>
            </a>

            <a href="#redefiniendo" class="nav-item">
                <div class="nav-item-content">
                    <div class="nav-item-label">Informaci√≥n</div>
                    <h3>Conocer m√°s</h3>
                    <p>Descubre c√≥mo estamos redefiniendo el mercado inmobiliario con tecnolog√≠a e innovaci√≥n.</p>
                    <div class="nav-item-feature">
                        <h4>Experiencia digital</h4>
                        <p>Integramos la tecnolog√≠a de hoy al sector inmobiliario, creando experiencias digitales que transforman la manera de encontrar tu nuevo hogar.</p>
                    </div>
                    <span class="nav-item-link">Ver m√°s ‚Üí</span>
                </div>
            </a>
        </div>
    </section>

    <!-- üîÑ Nueva Era Section - REPOSICIONADA CON FONDO BLANCO -->
    <section class="new-era-section" id="redefiniendo">
        <div class="new-era-container">
            <div class="new-era-content fade-in">
                <h2>La nueva era de lo inmobiliario comienza aqu√≠</h2>
                <h3 style="font-size: 1.8rem; font-weight: 300; margin-bottom: 2rem; color: var(--secondary-gray);">Revolucionando la manera de encontrar tu hogar</h3>
                <p>Porque entendemos que la tarea de encontrar tu pr√≥ximo hogar es dif√≠cil, ya que implica tiempo y recursos. Ac√° en Casa Nuvera te brindamos las mejores herramientas para adquirir la propiedad que anhelas.</p>
                
                <div class="new-era-technologies">
                    <div class="tech-feature">
                        <h4>Tour virtuales √∫ltima generaci√≥n</h4>
                        <p>Recorre propiedades desde la comodidad de tu hogar con tecnolog√≠a 360¬∞</p>
                    </div>
                    <div class="tech-feature">
                        <h4>IA aplicada al sector inmobiliario</h4>
                        <p>Algoritmos inteligentes que encuentran la propiedad perfecta para ti</p>
                    </div>
                    <div class="tech-feature">
                        <h4>Integraci√≥n de tecnolog√≠as</h4>
                        <p>En un mercado competitivo, aplicamos las mejores herramientas para facilitar la venta de tu propiedad.</p>
                    </div>
                    <div class="tech-feature">
                        <h4>Plataforma digital</h4>
                        <p>Gestiona todo el proceso de compra o venta desde nuestra plataforma</p>
                    </div>
                </div>
            </div>
            
            <div class="new-era-image fade-in"></div>
        </div>
    </section>

    <!-- Properties Section - PROPIEDADES REALES CON REDIRECCI√ìN -->
    <section class="properties-section" id="propiedades">
        <div class="properties-container">
            <div class="properties-header fade-in">
                <h2>Encuentra tu pr√≥ximo hogar</h2>
                <p>Explora nuestra selecci√≥n de propiedades disponibles en las mejores ubicaciones de Santiago.</p>
            </div>

            <!-- Buscador de Propiedades -->
            <div class="property-search-bar fade-in">
                <div class="search-filters">
                    <div class="search-group">
                        <select class="search-select" id="operation-filter">
                            <option value="">Venta</option>
                            <option value="venta">Venta</option>
                            <option value="arriendo">Arriendo</option>
                        </select>
                    </div>
                    <div class="search-group">
                        <select class="search-select" id="type-filter">
                            <option value="">Departamentos</option>
                            <option value="Casa">Casa</option>
                            <option value="Departamento">Departamento</option>
                            <option value="Oficina">Oficina</option>
                        </select>
                    </div>
                    <div class="search-group">
                        <input type="text" class="search-input" placeholder="Ingresa comuna o ciudad" id="location-filter">
                    </div>
                    <div class="search-group">
                        <div class="search-checkbox-group">
                            <input type="checkbox" class="search-checkbox" id="projects-filter">
                            <label for="projects-filter" class="search-checkbox-label">Proyectos</label>
                        </div>
                    </div>
                    <div class="search-group">
                        <button class="search-btn search-btn-primary" onclick="searchProperties()">Buscar</button>
                    </div>
                    <div class="search-group">
                        <button class="search-btn search-btn-secondary">Buscar en Mapa</button>
                    </div>
                </div>
                <a href="#" class="search-link">Buscar por c√≥digo de propiedad</a>
            </div>
            
            <!-- üéØ Grid de Propiedades REALES - Se carga desde property-loader-fixed.js -->
            <div id="featuredProperties">
                <div class="loading-container">
                    <div class="loading-spinner"></div>
                    <p>Cargando propiedades reales desde Supabase...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- üé¨ GALER√çA MIXTA: Im√°genes + Videos -->
    <section class="gallery-section">
        <div class="gallery-container">
            <div class="gallery-header">
                <h2>Galer√≠a de Experiencias</h2>
                <p>Descubre a trav√©s de im√°genes y videos la calidad y belleza de nuestras propiedades</p>
            </div>
            
            <div class="gallery-carousel">
                <div class="gallery-slides-container">
                    <!-- SLIDE 1: IMAGEN -->
                    <div class="gallery-slide active">
                        <img src="https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1756150801258_0.jpeg" alt="Experiencia 1">
                        <div class="slide-overlay">
                            <h3>Espacios que Inspiran</h3>
                            <p>Cada propiedad cuenta una historia √∫nica</p>
                        </div>
                    </div>
                    
                    <!-- SLIDE 2: VIDEO PLACEHOLDER -->
                    <div class="gallery-slide video-slide">
                        <video autoplay muted loop>
                            <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" type="video/mp4">
                            Tu navegador no soporta videos HTML5.
                        </video>
                        <div class="slide-overlay">
                            <h3>Tour Virtual Inmersivo</h3>
                            <p>Recorre propiedades desde la comodidad de tu hogar</p>
                        </div>
                    </div>
                    
                    <!-- SLIDE 3: IMAGEN -->
                    <div class="gallery-slide">
                        <img src="https://otfbouzmhmmguvqbbwku.supabase.co/storage/v1/object/public/imagenes-sitio/imagen_1756150948654_0.jpeg" alt="Experiencia 3">
                        <div class="slide-overlay">
                            <h3>Calidad en Cada Detalle</h3>
                            <p>Propiedades seleccionadas con los m√°s altos est√°ndares</p>
                        </div>
                    </div>
                    
                    <!-- SLIDE 4: VIDEO PLACEHOLDER -->
                    <div class="gallery-slide video-slide">
                        <video autoplay muted loop>
                            <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
                            Tu navegador no soporta videos HTML5.
                        </video>
                        <div class="slide-overlay">
                            <h3>Tecnolog√≠a de Vanguardia</h3>
                            <p>Innovaci√≥n aplicada al sector inmobiliario</p>
                        </div>
                    </div>
                </div>
                
                <!-- Controles de navegaci√≥n -->
                <button class="gallery-nav-btn prev-btn" onclick="previousSlide()">‚Äπ</button>
                <button class="gallery-nav-btn next-btn" onclick="nextSlide()">‚Ä∫</button>
                
                <!-- Indicadores -->
                <div class="gallery-indicators">
                    <span class="indicator active" data-slide="0"></span>
                    <span class="indicator" data-slide="1"></span>
                    <span class="indicator" data-slide="2"></span>
                    <span class="indicator" data-slide="3"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section parallax"></section>

    <!-- Contact Section -->
    <section class="contact-section parallax" id="contacto">
        <div class="contact-container">
            <h2 class="fade-in">¬øListo para encontrar tu pr√≥ximo hogar?</h2>
            <p class="fade-in">Nuestro equipo est√° aqu√≠ para ayudar en cada paso del proceso. Desde la b√∫squeda inicial hasta la inscripci√≥n de la propiedad a tu nombre.</p>
            
            <div class="contact-grid">
                <div class="contact-item fade-in">
                    <h4>Tel√©fono</h4>
                    <p><a href="tel:+56912345678">+56 9 1234 5678</a></p>
                </div>
                <div class="contact-item fade-in">
                    <h4>Email</h4>
                    <p><a href="mailto:hola@casanuvera.cl">hola@casanuvera.cl</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Propiedades</h4>
                    <ul>
                        <li><a href="#propiedades">Hogares para descubrir</a></li>
                        <li><a href="#propiedades">Encuentra propiedades en venta cuidadosamente seleccionadas en el gran Santiago</a></li>
                        <li><a href="#servicios">Tasaciones</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Servicios</h4>
                    <ul>
                        <li><a href="#servicios">Asesor√≠a</a></li>
                        <li><a href="#contacto">Consultor√≠a</a></li>
                        <li><a href="#servicios">Inversiones</a></li>
                        <li><a href="#contacto">Financiamiento</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Soporte</h4>
                    <ul>
                        <li><a href="#contacto">Contacto</a></li>
                        <li><a href="#" onclick="alert('Pr√≥ximamente: Centro de ayuda con gu√≠as y tutoriales')">Centro de Ayuda</a></li>
                        <li><a href="admin-login.html">Gestionar Contenido</a></li>
                        <li><a href="#" onclick="alert('Pr√≥ximamente: T√©rminos y condiciones')">T√©rminos</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Contacto</h4>
                    <ul>
                        <li><a href="mailto:hola@casanuvera.cl">hola@casanuvera.cl</a></li>
                        <li><a href="tel:+56912345678">+56 9 1234 5678</a></li>
                        <li>Santiago, Chile</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-tagline">Casa Nuvera | Innovando el sector Inmobiliario | EST. 2025</div>
                <div>&copy; 2025 Casa Nuvera. Todos los derechos reservados.</div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="supabase.js"></script>
    <script src="property-handler.js"></script>
    <script src="property-loader-fixed.js"></script>
    <script src="whatsapp-widget.js"></script>

    <script>
        // üéØ JAVASCRIPT DEL CARRUSEL MIXTO - AUTOPLAY Y CONTROLES
        let currentSlide = 0;
        let autoplayInterval;
        const totalSlides = 4;

        function showSlide(index) {
            const slides = document.querySelectorAll('.gallery-slide');
            const indicators = document.querySelectorAll('.indicator');
            
            // Remover active de todos
            slides.forEach(slide => slide.classList.remove('active'));
            indicators.forEach(indicator => indicator.classList.remove('active'));
            
            // Activar slide e indicador actual
            if (slides[index]) {
                slides[index].classList.add('active');
            }
            if (indicators[index]) {
                indicators[index].classList.add('active');
            }
            
            currentSlide = index;
        }

        function nextSlide() {
            const nextIndex = (currentSlide + 1) % totalSlides;
            showSlide(nextIndex);
        }

        function previousSlide() {
            const prevIndex = (currentSlide - 1 + totalSlides) % totalSlides;
            showSlide(prevIndex);
        }

        // AUTOPLAY AUTOM√ÅTICO
        function startAutoplay() {
            autoplayInterval = setInterval(nextSlide, 4000); // Cambio cada 4 segundos
        }

        function stopAutoplay() {
            if (autoplayInterval) {
                clearInterval(autoplayInterval);
            }
        }

        // üéØ FUNCI√ìN DE B√öSQUEDA CONECTADA AL SISTEMA REAL
        function searchProperties() {
            const operation = document.getElementById('operation-filter').value;
            const type = document.getElementById('type-filter').value;
            const location = document.getElementById('location-filter').value;
            const projects = document.getElementById('projects-filter').checked;
            
            console.log('üîç Filtros de b√∫squeda aplicados:', { operation, type, location, projects });
            
            // Usar el PropertyLoader real para aplicar filtros
            if (window.propertyLoader) {
                window.propertyLoader.applySearchFilters({
                    operation,
                    type,
                    location,
                    projects
                });
            } else {
                console.warn('‚ö†Ô∏è PropertyLoader no est√° disponible a√∫n - esperando conexi√≥n a Supabase');
            }
        }

        // üö® SOLO MANEJO DE EVENTOS - SIN CARGA DE PROPIEDADES MOCKUP
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üè† P√°gina cargada - PropertyLoader real se iniciar√° autom√°ticamente');
            console.log('‚ö° Scripts cargados: supabase.js, property-handler.js, property-loader-fixed.js');
            
            // INICIALIZAR CARRUSEL
            // Configurar indicadores
            document.querySelectorAll('.indicator').forEach((indicator, index) => {
                indicator.addEventListener('click', () => {
                    showSlide(index);
                });
            });
            
            // Pausar en hover
            const carousel = document.querySelector('.gallery-carousel');
            if (carousel) {
                carousel.addEventListener('mouseenter', stopAutoplay);
                carousel.addEventListener('mouseleave', startAutoplay);
            }
            
            // Iniciar autoplay del carrusel
            startAutoplay();
            
            // El property-loader-fixed.js se encarga de cargar las propiedades reales
        });

        // Animations on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationDelay = Math.random() * 0.5 + 's';
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Parallax effect
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const parallaxElements = document.querySelectorAll('.parallax');
            
            parallaxElements.forEach(element => {
                const speed = 0.5;
                const yPos = -(scrolled * speed);
                element.style.backgroundPosition = `center ${yPos}px`;
            });
        });
    </script>
</body>
</html>